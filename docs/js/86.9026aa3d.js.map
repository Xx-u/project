{"version":3,"file":"js/86.9026aa3d.js","mappings":"8WAkDA,IAAIA,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAASC,EAAAA,EAAAA,IAAIL,EAAMM,MAAMC,KACzBC,GAAYH,EAAAA,EAAAA,IAAI,IAChBI,GAAYJ,EAAAA,EAAAA,IAAI,IAChBK,GAAOL,EAAAA,EAAAA,KAAI,IAEfM,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,IAAI,0BAA2B,CAAEC,WAAY,MAAOC,MAAKC,IACvDP,EAAUQ,MAAQD,EAAIE,OACtBC,EAASlB,EAAMM,MAAMC,IAArB,IAKF,MAAMW,EAAYX,KAChBK,EAAAA,EAAAA,IAAI,SAAU,CAAEC,WAAY,IAAKM,KAAM,EAAGC,MAAO,GAAIC,YAAab,EAAUQ,MAAMT,GAAKe,KAAMR,MAAKC,IAChGL,EAAKM,OAASD,EAAIE,OAAOM,MACzBd,EAAUO,MAAQD,EAAIE,OAAOO,IAA7B,GAFF,EAMIC,EAAYC,KAChBf,EAAAA,EAAAA,MACAO,EAASQ,EAAT,EAGIC,EAAaL,IACjBxB,EAAM8B,OAAO,mBAAoB,QACjC1B,EAAO2B,KAAM,gBAAeP,IAA5B,EAIIQ,EAAc,MAClBnB,EAAAA,EAAAA,MACAb,EAAM8B,OAAO,mBAAoB,QACjCG,QAAQC,MAAR,E,8nCCjFF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://demo/./src/views/shopping/GoodsPage.vue","webpack://demo/./src/views/shopping/GoodsPage.vue?9578"],"sourcesContent":["<template>\r\n  <div class=\"body\">\r\n    <div class=\"top\">\r\n      <van-nav-bar\r\n        title=\"商品列表\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"onClickLeft\"\r\n      />\r\n    </div>\r\n    <div class=\"page\">\r\n      <div class=\"wrapper\">\r\n        <van-sidebar v-model=\"active\" @change=\"onChange\">\r\n          <van-sidebar-item\r\n            v-for=\"item in titleList\"\r\n            :key=\"item.id\"\r\n            :title=\"item.name\"\r\n          />\r\n        </van-sidebar>\r\n        <div class=\"left\">\r\n          <van-card\r\n            v-for=\"(item, index) in goodsList\"\r\n            :key=\"item.id\"\r\n            :tag=\"index % 2 == 1 ? '新品' : ''\"\r\n            :price=\"item.price - item.sale_price\"\r\n            :desc=\"item.desc\"\r\n            :title=\"item.name\"\r\n            :thumb=\"item.s_goods_photos[0].path\"\r\n            :origin-price=\"item.sale_price\"\r\n            @click=\"cardCheck(item.id)\"\r\n          />\r\n          <div class=\"banner\" v-show=\"show\">\r\n            <van-empty\r\n              image=\"https://fastly.jsdelivr.net/npm/@vant/assets/custom-empty-image.png\"\r\n              image-size=\"80\"\r\n              description=\"暂无商品信息\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { ref } from '@vue/reactivity'\r\nimport { get } from '../../Utils/request.js'\r\nimport { toast } from '../../Utils/index.js'\r\nlet store = useStore()\r\nlet route = useRoute()\r\nlet router = useRouter()\r\nlet active = ref(route.query.key);\r\nlet titleList = ref([])\r\nlet goodsList = ref([])\r\nlet show = ref(false)\r\n// 获取商品分类\r\ntoast()\r\nget('/classify/classifyGoods', { project_id: 240 }).then(res => {\r\n  titleList.value = res.result\r\n  goodsGet(route.query.key)\r\n\r\n})\r\n\r\n// 请求分类数据\r\nconst goodsGet = (key) => {\r\n  get('/goods', { project_id: 240, page: 1, limit: 10, classify_id: titleList.value[key].id }).then(res => {\r\n    show.value = !res.result.count\r\n    goodsList.value = res.result.rows\r\n  })\r\n}\r\n// 切换列表\r\nconst onChange = (val) => {\r\n  toast()\r\n  goodsGet(val)\r\n}\r\n// 进入商品详情\r\nconst cardCheck = (id) => {\r\n  store.commit(\"changeRouterType\", \"push\")\r\n  router.push(`shoppage?key=${id}`)\r\n}\r\n\r\n// 返回\r\nconst onClickLeft = () => {\r\n  toast()\r\n  store.commit(\"changeRouterType\", \"back\")\r\n  history.back()\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.body {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f6f6f6;\r\n  .top {\r\n    width: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 999;\r\n  }\r\n  .page {\r\n    padding-top: 0.46rem;\r\n    margin-left: 00.16rem;\r\n    min-height: calc(100vh - 0.46rem);\r\n    .wrapper {\r\n      padding-bottom: 0.5rem;\r\n      .van-sidebar {\r\n        position: fixed;\r\n        top: 0.46rem;\r\n        left: 0.1rem;\r\n      }\r\n      .left {\r\n        margin-left: 0.7rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n.van-card {\r\n  background-color: #fff;\r\n  margin-top: 0;\r\n}\r\n</style>","import script from \"./GoodsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoodsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoodsPage.vue?vue&type=style&index=0&id=3d00bca8&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\My-project\\\\shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d00bca8\"]])\n\nexport default __exports__"],"names":["store","useStore","route","useRoute","router","useRouter","active","ref","query","key","titleList","goodsList","show","toast","get","project_id","then","res","value","result","goodsGet","page","limit","classify_id","id","count","rows","onChange","val","cardCheck","commit","push","onClickLeft","history","back","__exports__"],"sourceRoot":""}