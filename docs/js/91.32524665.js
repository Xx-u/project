"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[91],{4091:function(e,a,s){s.r(a),s.d(a,{default:function(){return H}});var t=s(3396),i=s(4870),n=s(7139),l=s(9242),o=s(6431),c=s(9733),d=s(65),u=s(2483),p=s(6329),r=s(5743);const m={class:"body"},v={class:"page"},g={class:"top"},_={class:"main"},h={class:"label"},w={class:"shop"},y={class:"choose"},f={class:"button"},k=(0,t.Uk)("编辑订单"),b=(0,t.Uk)("删除订单"),C=(0,t.Uk)("去支付"),U={class:"hint"};var z={__name:"Order",setup(e){let a=(0,u.tv)(),s=(0,d.oR)(),z=(0,i.iH)(0),W=(0,i.iH)([]),D=(0,i.iH)([{id:8,icon:"orders-o",span:"全部"},{id:1,icon:"credit-pay",span:"待付款"},{id:2,icon:"send-gift-o",span:"待发货"},{id:3,icon:"logistics",span:"待收货"},{id:6,icon:"certificate",span:"已完成"}]);async function H(e){let a=await(0,r.U2)("/order",{project_id:240,status:e});W.value=a.result.rows}(0,p.Am)(),H();const S=e=>{(0,p.Am)(),z.value=e,H(8==e?"":e)},O=async e=>{o.V.confirm({title:"小xu提示",message:"您是否确认删除订单?"}).then((()=>{(0,r.IV)(`/order/${e}`).then((e=>{(0,c.F)(e.msg),H()}))})).catch((()=>{}))},j=e=>{s.commit("changeRouterType","push"),a.push(`/paymentOrder?key=${e}`)},F=e=>{s.commit("changeRouterType","push"),a.push(`/shoppage?key=${e}`)};return(e,a)=>{const s=(0,t.up)("van-nav-bar"),o=(0,t.up)("van-card"),c=(0,t.up)("van-button"),d=(0,t.up)("van-empty"),u=(0,t.up)("van-tab"),p=(0,t.up)("van-tabs");return(0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("div",v,[(0,t._)("div",g,[(0,t.Wm)(s,{title:"我的订单"})]),(0,t._)("div",_,[(0,t._)("div",h,[(0,t.Wm)(p,{active:(0,i.SU)(z),"onUpdate:active":a[0]||(a[0]=e=>(0,i.dq)(z)?z.value=e:z=e),swipeable:"",onChange:S,"lazy-render":"",sticky:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,i.SU)(D),(e=>((0,t.wg)(),(0,t.j4)(u,{key:e.id,name:e.id},{title:(0,t.w5)((()=>[(0,t._)("p",null,(0,n.zw)(e.span),1)])),default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,i.SU)(W),(e=>((0,t.wg)(),(0,t.iD)("div",{class:"card",key:e.id},[(0,t._)("div",w,[(0,t._)("span",null,(0,n.zw)(e.shops_name)+" 的店铺",1)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(JSON.parse(e.goods_info),(e=>((0,t.wg)(),(0,t.iD)("div",{class:"goodsOrder",key:e.id},[(0,t.Wm)(o,{num:e.num,price:e.price,desc:e.desc,title:e.goods_name,thumb:e.s_goods_photos[0].path,onClick:a=>F(e.id)},null,8,["num","price","desc","title","thumb","onClick"])])))),128)),(0,t._)("div",y,[(0,t._)("span",null,"总价: ￥"+(0,n.zw)(e.total_price),1),(0,t._)("div",f,[(0,t.Wm)(c,{round:"",size:"small",type:"default"},{default:(0,t.w5)((()=>[k])),_:1}),(0,t.Wm)(c,{round:"",size:"small",type:"default",onClick:a=>O(e.id)},{default:(0,t.w5)((()=>[b])),_:2},1032,["onClick"]),(0,t.wy)((0,t.Wm)(c,{round:"",color:"linear-gradient(to right, #ff6034, #ee0a24)",size:"small",type:"default",onClick:a=>j(e.id)},{default:(0,t.w5)((()=>[C])),_:2},1032,["onClick"]),[[l.F8,1==e.status]])])])])))),128)),(0,t.wy)((0,t._)("div",U,[(0,t.Wm)(d,{image:"https://fastly.jsdelivr.net/npm/@vant/assets/custom-empty-image.png","image-size":"130",description:"你还没有相关的订单"})],512),[[l.F8,0==(0,i.SU)(W).length]])])),_:2},1032,["name"])))),128))])),_:1},8,["active"])])])])])}}},W=s(89);const D=(0,W.Z)(z,[["__scopeId","data-v-3b901cc3"]]);var H=D}}]);
//# sourceMappingURL=91.32524665.js.map